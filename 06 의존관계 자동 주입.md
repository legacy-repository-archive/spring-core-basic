# ë‹¤ì–‘í•œ ì˜ì¡´ê´€ê³„ ì£¼ì… ë°©ë²•
Springì—ì„œ ì§€ì›í•˜ëŠ” ì˜ì¡´ê´€ê³„ëŠ” í¬ê²Œ 4ê°€ì§€ê°€ ìˆë‹¤.  
   
* **ìƒì„±ì ì£¼ì…**     
* Setter ì£¼ì…     
* í•„ë“œ ì£¼ì…      
* ì¼ë°˜ ë©”ì„œë“œ ì£¼ì…     

## ìƒì„±ì ì£¼ì…  
ìš°ì„ , ì§€ê¸ˆ í˜„ì¬ ê°€ì¥ ì¶”ì²œí•˜ëŠ” ë°©ë²•ìœ¼ë¡œ   
ì´ë¦„ ê·¸ëŒ€ë¡œ `ìƒì„±ì`ë¥¼ í†µí•´ì„œ ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì… ë°›ëŠ” ë°©ë²•ì´ë‹¤.   
     
**íŠ¹ì§•**    
* ìƒì„±ì í˜¸ì¶œì‹œì ì— ë”± 1ë²ˆ í˜¸ì¶œë˜ëŠ” ê²ƒì´ ë³´ì¥ëœë‹¤.     
* ìƒì„±ì í˜¸ì¶œì‹œì ì´ê¸°ì— ë¹ˆì´ ë“±ë¡ ë˜ëŠ” ê³¼ì •ì—ì„œ ì—°ê´€ëœ ì˜ì¡´ ê´€ê³„ê¹Œì§€ ë¬¶ì–´ì„œ ë“±ë¡ëœë‹¤.     
* **ë¶ˆë³€**, **í•„ìˆ˜** ì˜ì¡´ê´€ê³„ì— ì‚¬ìš©ëœë‹¤.    
  
```java
import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

    @Autowired
    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }
    // ...ìƒëµ
}
```
ê·¸ë¦¬ê³  **ìƒì„±ì ì£¼ì…ì´ ê°€ì§„ ê°€ì¥ í° ì¥ì ì´ í•˜ë‚˜ìˆë‹¤.**        
ë°”ë¡œ, **ìƒì„±ìê°€ ë‹¨ í•œ ê°œë¿ì¼ ë•Œ `@Autowired`ë¥¼ ìë™ìœ¼ë¡œ ì£¼ì…í•´ì¤€ë‹¤.**     
   
ì¦‰, ìœ„ì™€ ê°™ì€ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ì´ í‘œí˜„ì„ í•  ìˆ˜ ìˆë‹¤.  
    
**@Autowired ìƒëµ í˜•íƒœ**
```java
import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;
   
    // ì—¬ê¸°ê°€ ìƒëµë˜ì—ˆë‹¤.   
    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }
    // ...ìƒëµ
}
```
**ê·¸ë ‡ë‹¤ë©´ ìƒì„±ìê°€ 2ê°œ ì´ìƒì´ë¼ë©´ ì „ë¶€ `@Autowired`ë¥¼ í•´ì¤˜ì•¼í•˜ë‚˜?ğŸ¤”**     
`@Autowired`ë¥¼ í•˜ëŠ” ì´ìœ ëŠ” ì—¬ëŸ¬ ìƒì„±ìì¤‘ ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì…ì‹œí‚¬ ë‹¨ í•˜ë‚˜ì˜ ìƒì„±ìë¥¼ ì°¾ê¸° ìœ„í•¨ì´ë‹¤.   
ê·¸ëŸ¬ë‹ˆ **ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì…ë°›ëŠ” ìƒì„±ìì—ê²Œë§Œ `@Autowired`ë¥¼ í•´ì£¼ì**       
      
ìƒì„±ì ì£¼ì…ì€ **ë¶ˆë³€ ìƒíƒœ**ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤ëŠ” í° ì¥ì ì„ ê°€ì§€ê³  ìˆë‹¤.    
í•˜ì§€ë§Œ ê¼­ ë¶ˆë³€ìœ¼ë¡œë§Œ ë§Œë“¤ì–´ì•„ ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆê¸°ì— `final` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.   
í•˜ì§€ë§Œ, ì´ì „ì—ë„ ì–¸ê¸‰í–ˆë“¯ **ë¶ˆë³€ìœ¼ë¡œ ë§Œë“œëŠ” ê²ƒì„ ìµœëŒ€í•œ ì§€í–¥í•˜ê¸°ì—**   
ìœ ì¼í•˜ê²Œ ë¶ˆë³€ìœ¼ë¡œ ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì…í•´ì£¼ëŠ” `ìƒì„±ì ì£¼ì…`ì„ ê°•ë ¥í•˜ê²Œ ì¶”ì²œí•œë‹¤.     
       
## Setter ì£¼ì… 
Setter ë©”ì„œë“œë¥¼ í†µí•´, ì´ì™€ ì—°ê´€ëœ í•„ë“œì˜ ê°’ì„ ë³€ê²½í•˜ëŠ” ì˜ì¡´ ê´€ê³„ ì£¼ì… ë°©ë²•ì´ë‹¤.     
  
**íŠ¹ì§•**      
* **ì„ íƒ**,**ë³€ê²½** ê°€ëŠ¥ì„±ì´ ìˆëŠ” ì˜ì¡´ ê´€ê³„ì—ì„œ ì‚¬ìš©ëœë‹¤.    
* ìë°”ë¹ˆ í”„ë¡œí¼í‹° ê·œì•½ì˜ Setter ë©”ì„œë“œ ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤.     
  * ìŠ¤í”„ë§ì—ì„œëŠ” `ìë°”ë¹ˆ í”„ë¡œí¼í‹° ê·œì•½`ì„ ì´ìš©í•œ ìë™í™” ê¸°ëŠ¥ì´ ë§ë‹¤.  
  * Setter ì£¼ì…ë„ ì´ëŸ¬í•œ ìë™í™” ì¤‘ í•˜ë‚˜ì´ë‹ˆ `ìë°”ë¹ˆ í”„ë¡œí¼í‹° ê·œì•½`ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤.   

```java
package hello.core.order;

import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class OrderServiceImpl implements OrderService {

    private MemberRepository memberRepository;
    private DiscountPolicy discountPolicy;

    @Autowired
    public void setMemberRepository(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }

    @Autowired
    public void setDiscountPolicy(DiscountPolicy discountPolicy) {
        this.discountPolicy = discountPolicy;
    }
     
    // ...ìƒëµ  
}
```

ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” 2ê°€ì§€ ë¼ì´í”„ ì‚¬ì´í´ì„ ê°€ì§€ê³  ìˆë‹¤.   
  
1. ìŠ¤í”„ë§ ë¹ˆì„ ë“±ë¡  
2. ì—°ê´€ ê´€ê³„ë¥¼ ìë™ìœ¼ë¡œ ì£¼ì…í•œë‹¤.  
  
Setter ë©”ì„œë“œ ë˜í•œ, `@Autowired`ë¥¼ í†µí•´, ì—°ê´€ ê´€ê³„ ìë™ ì£¼ì…ì„ ë°›ëŠ”ë‹¤.    
ìƒì„±ìì™€ ë‹¬ë¦¬, ë¹ˆì´ ë“±ë¡ëœ í›„ì— ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì…í•˜ëŠ” ë°©ì‹ì´ë‹¤.      
ê·¸ë¦¬ê³  ì–´ë–¤ Setter ì£¼ì…ì´ ë¨¼ì € ì‹¤í–‰ë ì§€ ìˆœì„œëŠ” ë³´ì¥ë˜ì§€ ì•ŠëŠ”ë‹¤.      

ì°¸ê³ ë¡œ, ì„ íƒì ìœ¼ë¡œ ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì… ë°›ì„ ìˆ˜ ìˆë‹¤ëŠ” ë§ì€ ì•„ë˜ì™€ ê°™ë‹¤.     
```java
    @Autowired(required = false)
    public void setMemberRepository(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }

    @Autowired
    public void setDiscountPolicy(DiscountPolicy discountPolicy) {
        this.discountPolicy = discountPolicy;
    }
```
`@Autowired`ì˜ `required` ì†ì„±ì„ ì´ìš©í•´ì„œ í•„ìˆ˜ë¡œ ì˜ì¡´ë°›ì•„ì•¼ í•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ì§€ì •í•´ì¤„ ìˆ˜ ìˆë‹¤.   
ì‚¬ì‹¤, `@Autowired` ì˜ ê¸°ë³¸ ë™ì‘ì€ ì£¼ì…í•  ëŒ€ìƒì´ ì—†ìœ¼ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.    
ê·¸ë ‡ê¸°ì— ì£¼ì…í•  ëŒ€ìƒì´ ì—†ì–´ë„ ë™ì‘í•˜ê²Œ í•˜ë ¤ë©´ `@Autowired(required = false)` ë¡œ ì§€ì •í•˜ë©´ ëœë‹¤.
    
**ë§Œì•½, ìƒì„±ì ì£¼ì…ì´ë‘ Setterê°€ ë™ì‹œì— ì¡´ì¬í•œë‹¤ë©´? ğŸ¤”**        
  
```java
import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class OrderServiceImpl implements OrderService {

    private MemberRepository memberRepository;
    private DiscountPolicy discountPolicy;

    @Autowired
    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        System.out.println("memberRepository = " + memberRepository);
        System.out.println("discountPolicy = " + discountPolicy);
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }

    @Autowired
    public void setMemberRepository(MemberRepository memberRepository) {
        System.out.println("memberRepository = " + memberRepository);
        this.memberRepository = memberRepository;
    }

    @Autowired
    public void setDiscountPolicy(DiscountPolicy discountPolicy) {
        System.out.println("discountPolicy = " + discountPolicy);
        this.discountPolicy = discountPolicy;
    }

}

```
**ê²°ê³¼**
```java
memberRepository = hello.core.member.MemoryMemberRepository@78dd667e
discountPolicy = hello.core.discount.RateDiscountPolicy@10db82ae
memberRepository = hello.core.member.MemoryMemberRepository@78dd667e
discountPolicy = hello.core.discount.RateDiscountPolicy@10db82ae
```
ì‹¤ì œë¡œ ëŒë ¤ë³´ë©´, ë‘ ì˜ì¡´ ê´€ê³„ ì£¼ì… ë°©ë²• ëª¨ë‘ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.     
ì‚¬ì‹¤, ì•ì„œ ë§í–ˆë“¯ì´ ë‘ ì˜ì¡´ ê´€ê³„ ì£¼ì… ë°©ë²•ì˜ ì‹œì ì´ ë‹¬ë¼ì„œ ê°€ëŠ¥í–ˆë˜ ê²ƒì´ë‹¤.   
        
**ê°œì¸ì ì¸ ê¶ê¸ˆì¦ ìˆœì„œëŠ” ì–´ë–»ê²Œ ë ê¹Œ? ğŸ¤”**        
        
        
## í•„ë“œ ì£¼ì…      
ì´ë¦„ ê·¸ëŒ€ë¡œ í•„ë“œì— ë°”ë¡œ ì£¼ì…í•˜ëŠ” ë°©ë²•ì´ë‹¤.    
í•œ ê°€ì§€ íŠ¹ì´ì ì´ ìˆëŠ”ë°, ì ‘ê·¼ ì§€ì •ìê°€ `private`ì—¬ë„ ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì…í•  ìˆ˜ ìˆë‹¤.     
ì´ëŠ” ìë°”ì˜ `Reflection`ì´ë¼ëŠ” ê¸°ëŠ¥ì„ ì´ìš©í•´ì„œ ë¹ˆì„ ì£¼ì…í•˜ê¸° ë•Œë¬¸ì´ë‹¤.    
  
**íŠ¹ì§•**
* ì½”ë“œê°€ ê°„ê²°í•˜ì§€ë§Œ, ì™¸ë¶€ì—ì„œ ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•´ì„œ í…ŒìŠ¤íŠ¸ í•˜ê¸° í˜ë“¤ë‹¤ëŠ” ì¹˜ëª…ì ì¸ ë‹¨ì ì´ ìˆë‹¤.
* DI í”„ë ˆì„ì›Œí¬ê°€ ì—†ìœ¼ë©´ ì•„ë¬´ê²ƒë„ í•  ìˆ˜ ì—†ë‹¤.

```java
@Component
public class OrderServiceImpl implements OrderService {

    @Autowired  private MemberRepository memberRepository;
    @Autowired  private DiscountPolicy discountPolicy;

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }
    
    // í…ŒìŠ¤íŠ¸ ìš©ë„
    public MemberRepository getMemberRepository() {
        return memberRepository;
    }

}
```
í•˜ì§€ë§Œ, ì´ì™€ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê¸° í˜ë“¤ë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤.  
ì •í™•íˆëŠ” ë„ˆë¬´ ì˜ì¡´ì ì´ì—¬ì„œ, ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë„£ì–´ì„œ í…ŒìŠ¤íŠ¸í•œë‹¤ë˜ê°€ í•  ìˆ˜ ì—†ë‹¤.   

```
    // NullPointer Exception ì´ ëœ¬ë‹¤.
    @Test
    void fieldInjectionTest(){
        OrderServiceImpl orderService = new OrderServiceImpl();
        orderService.createOrder(1L, "itemA", 10000);
    }
```
ìœ„ ì½”ë“œì²˜ëŸ¼ ë§Œì•½ `ìƒì„±ì` or `Setter`ê°€ ì—†ë‹¤ë©´       
í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œëŠ” ê°ì²´ë¥¼ ì£¼ì…í•´ì¤„ ë°©ë²•ì´ ì—†ì–´ `NullPointerException`ì´ ë°œìƒí•œë‹¤.        

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ì–µì§€ë¡œë¼ë„ ë¶ˆí•„ìš”í•œ `Setter`ë¥¼ ë§Œë“¤ì–´ì•¼í•œë‹¤.   

```java
    @Test
    void fieldInjectionTest(){
        OrderServiceImpl orderService = new OrderServiceImpl();
        
        orderService.setMemberRepository(new MemoryMemberRepository());
        orderService.setDiscountPolicy(new FixDiscountPolicy());

        orderService.createOrder(1L, "itemA", 10000);
    }
```
ë¬¼ë¡ , ìŠ¤í”„ë§ í…ŒìŠ¤íŠ¸ë¥¼ ì´ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆì§€ë§Œ     
ì»¨í…Œì´ë„ˆë¥¼ ì˜¬ë¦¬ê³  ì„œë²„ë¥¼ ë„ìš°ëŠ” ë¬´ê±°ìš´ ì‘ì—…ì„ ë²ˆë²ˆíˆ í•´ì¤˜ì•¼í•˜ë©°       
ìˆœìˆ˜ ìë°” ì½”ë“œë¡œ ì´ë£¨ì–´ì§„ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ì§„í–‰í•  ìˆ˜ ì—†ë‹¤.         
            
ë˜í•œ `Setter`ê°€ ìƒì„±ë˜ì—ˆê¸°ì—, ë¶ˆë³€ì„ ë³´ì¥í•  ìˆ˜ ì—†ìœ¼ë©°      
ì°¨ë¼ë¦¬ `Setter` ì˜ì¡´ ê´€ê³„ ì£¼ì…ì„ í•˜ëŠ” ê²ƒì´ ë” ë‚˜ì„ ìˆ˜ ìˆì„ê±°ë¼ ìƒê°ì´ë“ ë‹¤.       
      
í•„ë“œ ì˜ì¡´ ê´€ê³„ ì£¼ì…ì— ëŒ€í•´ì„œ ë§í•˜ìë©´, ì‚¬ìš©í•˜ì§€ ë§ì!     
ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹¤ì œ ì½”ë“œì™€ ê´€ê³„ ì—†ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œ,      
ìŠ¤í”„ë§ ì„¤ì •ì„ ëª©ì ìœ¼ë¡œ í•˜ëŠ” `@Configuration` ê°™ì€ ê³³ì—ì„œë§Œ íŠ¹ë³„í•œ ìš©ë„ë¡œ ì‚¬ìš©í•˜ì      

ì°¸ê³ ë¡œ, `@Configuration`ì´ ë¶™ì–´ìˆëŠ” í´ë˜ìŠ¤ëŠ” ë¹ˆì„ ë“±ë¡í•˜ëŠ” í´ë˜ìŠ¤ì¼ ê²ƒì´ë‹¤.   
ê·¸ë ‡ê¸°ì— `@Autowired`ë¥¼ í•„ë“œ ì˜ì¡´ ê´€ê³„ ì£¼ì…ìœ¼ë¡œ ë¶™ì—¬ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ë‚˜ì˜ì§€ ì•Šë‹¤.   
í•˜ì§€ë§Œ, `@Bean` ì—ì„œ íŒŒë¼ë¯¸í„°ì— ì˜ì¡´ê´€ê³„ëŠ” ìë™ ì£¼ì…ëœë‹¤ëŠ” íŠ¹ì§•ì´ ìˆìœ¼ë‹ˆ  
ì˜¤íˆë ¤ `@Bean` íŒŒë¼ë¯¸í„°ë¥¼ ì´ìš©í•˜ëŠ” í¸ì´ ë‚«ë‹¤.  
  
## ì¼ë°˜ ë©”ì„œë“œ ì£¼ì…
ì¼ë°˜ ë©”ì„œë“œì—ì„œë„ `@Autowired`ë¥¼ í†µí•´ ì˜ì¡´ ê´€ê³„ ì£¼ì…ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.   

**íŠ¹ì§•**   
* í•œë²ˆì— ì—¬ëŸ¬ í•„ë“œë¥¼ ì£¼ì…ë°›ì„ ìˆ˜ ìˆë‹¤.   
* í•˜ì§€ë§Œ, ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.  

```java
package hello.core.order;

import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class OrderServiceImpl implements OrderService {

    private MemberRepository memberRepository;
    private DiscountPolicy discountPolicy;

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }

    @Autowired
    public final void init(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }

}
```
íŒŒë¼ë¯¸í„°ì— ì¡´ì¬í•˜ëŠ” ì—¬ëŸ¬ í•„ë“œë¥¼ ëŒ€ìƒìœ¼ë¡œ ì˜ì¡´ë°›ì„ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ ì¥ì ì´ë‹¤.       
ì—¬ê¸°ì— **ë§Œì•½ ë¹ˆì´ ì•„ë‹Œ ë‹¤ë¥¸ í•„ë“œê°€ í•˜ë‚˜ë¼ë„ ì˜¨ë‹¤ë©´?** ë‹¹ì—°í•˜ê²Œë„ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.        
  
# ì˜µì…˜ì²˜ë¦¬   
ê°€ë”ì€ ì£¼ì…í•  ìŠ¤í”„ë§ ë¹ˆì´ ì—†ì–´ë„ ë™ì‘ì„ í•´ì•¼í•˜ëŠ” ê²½ìš°ë„ ìˆì„ ê²ƒì´ë‹¤.      
ê·¸ëŸ°ë° `@Autowired`ë§Œ ì‚¬ìš©í•˜ë©´ `required` ì˜µì…˜ì˜ ê¸°ë³¸ê°’ì´ true ë¡œ ë˜ì–´ ìˆì–´ì„œ      
ìë™ ì£¼ì… ëŒ€ìƒì´ ì—†ìœ¼ë©´ ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.     
           
ì´ëŸ° ìë™ ì£¼ì… ëŒ€ìƒì„ `ì˜µì…˜`ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.        
* **@Autowired(required=false) :** ìë™ ì£¼ì…í•  ëŒ€ìƒì´ ì—†ìœ¼ë©´ ìˆ˜ì •ì ë©”ì„œë“œ ìì²´ê°€ í˜¸ì¶œ ì•ˆëœë‹¤.      
* **org.springframework.lang.@Nullable :** ìë™ ì£¼ì…í•  ëŒ€ìƒì´ ì—†ìœ¼ë©´ `null`ì´ ì…ë ¥ëœë‹¤.    
* **Optional<> :** ìë™ ì£¼ì…í•  ëŒ€ìƒì´ ì—†ìœ¼ë©´ `Optional.empty`ê°€ ì…ë ¥ëœë‹¤.    
   
**src.test.hello.core.autowired.AutowiredTest**  
```java
package hello.core.autowired;

import hello.core.member.Member;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.ApplicationContext;
import org.springframework.context.annotation.AnnotationConfigApplicationContext;
import org.springframework.lang.Nullable;

import java.util.Optional;

public class AutowiredTest {

    @Test
    void AutowiredOption() {
        ApplicationContext ac = new AnnotationConfigApplicationContext(TestBean.class);
    }

    static class TestBean {

        @Autowired(required = false) // ë¹ˆì´ ì—†ì„ ê²½ìš°, í•´ë‹¹ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤. DI ì•ˆí•œë‹¤.
        public void setNoBean1(Member noBean1) {
            // ìŠ¤í”„ë§ì´ ê´€ë¦¬í•˜ì§€ ì•ŠëŠ” ë¹ˆì„ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•˜ë‹¤.
            System.out.println("noBean1 = " + noBean1);
        }

        @Autowired
        public void setNoBean2(@Nullable Member noBean2) { // í˜¸ì¶œì€ ë˜ì§€ë§Œ null
            System.out.println("noBean2 = " + noBean2);
        }

        @Autowired
        public void setNoBean2(Optional<Member> noBean3) { // Optional.empty
            System.out.println("noBean3 = " + noBean3);
        }

    }
}

```
`Member`ëŠ” ìŠ¤í”„ë§ ë¹ˆì´ ì•„ë‹ˆë¼ëŠ” íŠ¹ì§•ì„ ì´ìš©í•´ì„œ ë§Œë“  í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ë‹¤.           
`setNoBean1()` ì€ `@Autowired(required=false)` ì´ë¯€ë¡œ í˜¸ì¶œ ìì²´ê°€ ì•ˆëœë‹¤.   
`@Autowired(required=false)`ëŠ” ì£¼ì…í•  ëŒ€ìƒì´ ì—†ìœ¼ë©´ í˜¸ì¶œì„ í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤.   
   
**ì‹¤í–‰ ê²°ê³¼**
```
noBean3 = Optional.empty
noBean2 = null
```
`@Nullable, Optional`ì€ ìŠ¤í”„ë§ ì „ë°˜ì— ê±¸ì³ì„œ ì§€ì›ëœë‹¤.      
ì˜ˆë¥¼ ë“¤ì–´ì„œ ìƒì„±ì ìë™ ì£¼ì…ì—ì„œ íŠ¹ì • í•„ë“œì—ë§Œ ì‚¬ìš©í•´ë„ ëœë‹¤.    
    
# ìƒì„±ì ì£¼ì…ì„ ì‚¬ìš©í•´ë¼!    
ìµœê·¼, ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ë¥¼ í¬í•¨í•œ DI í”„ë ˆì´ë­í¬ ëŒ€ë¶€ë¶„ì´ ìƒì„±ì ì£¼ì…ì„ ê¶Œì¥í•˜ê³  ìˆë‹¤.     
        
**ë¶ˆë³€**       
* ëŒ€ë¶€ë¶„ì˜ ì˜ì¡´ê´€ê³„ ì£¼ì…ì€ í•œë²ˆ ì¼ì–´ë‚˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œì‹œì ê¹Œì§€ ì˜ì¡´ê´€ê³„ë¥¼ ë³€ê²½í•  ì¼ì´ ì—†ë‹¤.   
  ì˜¤íˆë ¤, ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ ì „ê¹Œì§€ ë³€í•˜ë©´ ì•ˆëœë‹¤.         
* ìˆ˜ì •ì ì£¼ì…ì„ ì‚¬ìš©í•˜ë©´, ë©”ì„œë“œë¥¼ publicìœ¼ë¡œ ì—´ì–´ë‘ê³  ì´ë¡œì¸í•´ ë³€ê²½ ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§„ë‹¤.   
* ìƒì„±ì ì£¼ì…ì€ ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ, ë”± 1ë²ˆë§Œ í˜¸ì¶œë˜ë¯€ë¡œ ì´í›„ì— í˜¸ì¶œë˜ëŠ” ì¼ì´ ì—†ë‹¤.   
      
**ëˆ„ë½**        
`Setter ì˜ì¡´ ê´€ê³„ ì£¼ì…`ì„ ê¸°ì¤€ìœ¼ë¡œ ì„¤ëª…ì„ í•´ë³´ë ¤ í•œë‹¤.     
      
í”„ë ˆì„ì›Œí¬ ì—†ì´ ìˆœìˆ˜í•œ ìë°” ì½”ë“œë¥¼ ì´ìš©í•œë‹¤ê³  ê°€ì • í•  ë•Œ            
ìš°ì„ , ê°ì²´ë¥¼ ìƒì„±í•˜ê³ , `Setter`ë¥¼ í†µí•´ì„œ ì˜ì¡´ ê´€ê³„ë¥¼ ì§ì ‘ ë„£ì–´ì£¼ì–´ì•¼í•œë‹¤.             
ê·¸ëŸ°ë° ë§Œì•½, `Setter` í˜¸ì¶œì„ í•˜ì§€ ì•ŠëŠ” ê²½ìš°ëŠ” ì–´ë–»ê²Œ ë ê¹Œ?              
   
**Setter ì˜ì¡´ ê´€ê³„ ì£¼ì… ì½”ë“œ**   
```java
package hello.core.order;

import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class OrderServiceImpl implements OrderService {

    private MemberRepository memberRepository;
    private DiscountPolicy discountPolicy;

    @Autowired
    public void setMemberRepository(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }

    @Autowired
    public void setDiscountPolicy(DiscountPolicy discountPolicy) {
        this.discountPolicy = discountPolicy;
    }

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }

    // í…ŒìŠ¤íŠ¸ ìš©ë„
    public MemberRepository getMemberRepository() {
        return memberRepository;
    }

}
```
**í…ŒìŠ¤íŠ¸ ì½”ë“œ**
```java
package hello.core.order;

import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.*;

class OrderServiceImplTest {

    @Test
    void createOrder() {
        OrderServiceImpl orderService = new OrderServiceImpl();
        orderService.createOrder(1L, "itemA", 10000);
    }

}
```
```
java.lang.NullPointerException
	at hello.core.order.OrderServiceImpl.createOrder(OrderServiceImpl.java:32)
```   
ì•„ì´ëŸ¬ë‹ˆí•˜ê²Œë„ **`ì»´íŒŒì¼ ì—ëŸ¬`ê°€ ë°œìƒí•˜ì§€ ì•Šìœ¼ë©° `NullPointerException`ì´ ë°œìƒí•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.**             
ì´ë ‡ë“¯, `Setter`ëŠ” ì¼ì¢…ì˜ ë©”ì„œë“œì´ê¸° ë•Œë¬¸ì— í˜¸ì¶œì„ ëˆ„ë½í•  ìˆ˜ ìˆë‹¤ëŠ” ë¬¸ì œì ì´ ìˆë‹¤.   
      
ì´ëŸ° ìƒí™©ì— í•´ë‹¹ ë¡œì§ì„ ìƒì„±ì ì˜ì¡´ ê´€ê³„ ì£¼ì…ìœ¼ë¡œ ë§Œë“¤ê²Œ ëœë‹¤ë©´?     

**ìƒì„±ì ì˜ì¡´ ê´€ê³„ ì£¼ì…**
```java
package hello.core.order;

import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

    @Autowired
    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }

    // í…ŒìŠ¤íŠ¸ ìš©ë„
    public MemberRepository getMemberRepository() {
        return memberRepository;
    }

}

```
   
**í…ŒìŠ¤íŠ¸ ì½”ë“œ**
```java
package hello.core.order;

import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.*;

class OrderServiceImplTest {

    @Test
    void createOrder() {
        OrderServiceImpl orderService = new OrderServiceImpl();   // ì»´íŒŒì¼ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤!!! -> ì»´íŒŒì¼ ì˜¤ë¥˜ëŠ” ì¢‹ì€ê²ƒì´ë‹¤.  
        orderService.createOrder(1L, "itemA", 10000);
    }

}
```
ìœ„ì™€ ê°™ì´ ì»´íŒŒì¼ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë©°   
ê°œë°œìëŠ” ì´ë¡œì¸í•´ ìì‹ ì˜ ì½”ë“œë¥¼ ì‹¤í–‰ ì „ì— ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ê¸°íšŒë¥¼ ì–»ê²Œëœ ì…ˆì´ë‹¤.  
   
**final**   
ìƒì„±ì ì£¼ì…ì„ ì‚¬ìš©í•˜ë©´ ë‹¤ë¥¸ ì˜ì¡´ ê´€ê³„ ì£¼ì… ë°©ë²•ê³¼ëŠ” ë‹¤ë¥´ê²Œ `final`ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.    
ê·¸ë˜ì„œ ìƒì„±ìë¥¼ í†µí•´ ê°’ì„ ì„¤ì •í•˜ì§€ ì•ŠëŠ” ì‹¤ìˆ˜ë¥¼ ë°œìƒí•œë‹¤ë©´ ì´ë¥¼ ì»´íŒŒì¼ ì—ëŸ¬ë¡œ ë§‰ì•„ì¤€ë‹¤.  

```java
package hello.core.order;

import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository;		// ì—ëŸ¬ëœ¸
    private final DiscountPolicy discountPolicy;		// ì—ëŸ¬ëœ¸ 

    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
    	// ê°’ ì´ˆê¸°í™” ëˆ„ë½í–ˆë‹¤.  
    }

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }

    // í…ŒìŠ¤íŠ¸ ìš©ë„
    public MemberRepository getMemberRepository() {
        return memberRepository;
    }

}
```
ëˆ„ë½ ë‹¨ê³„ì— ì‚¬ìš©ë˜ë˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë‚˜,    
í´ë˜ìŠ¤ ìƒì„±ì ë‚´ë¶€ì ìœ¼ë¡œ ê°‘ì„ í• ë‹¹í•˜ëŠ” ê²½ìš°ë¥¼ ëˆ„ë½í–ˆì„ ë•Œ,   
`final` í‚¤ì›Œë“œê°€ ì—†ì—ˆë‹¤ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ë¡œì§ì´ ìˆ˜í–‰ë˜ë‹¤ê°€ `NullPointerException`ì´ ëœ°í…ë°   
`final` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ì»´íŒŒì¼ ì—ëŸ¬ë¥¼ ì´ëŒì–´ë‚¼ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.   
  
ê¸°ì–µí•˜ì! **ì»´íŒŒì¼ ì—ëŸ¬ëŠ” ì„¸ìƒì—ì„œ ê°€ì¥ ë¹ ë¥´ê³ , ì¢‹ì€ ì˜¤ë¥˜ë‹¤!**  

ì°¸ê³ ë¡œ,   
ìˆ˜ì •ì ì£¼ì…ê³¼ í•„ë“œ ì£¼ì…ì€ ë¹ˆì„ ìƒì„±í•œ í›„ì— í˜¸ì¶œí•˜ê¸°ì— **í•„ë“œì— `final` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìœ¼ë©°,**    
`final` í‚¤ì›Œë“œëŠ” ì˜¤ì§ ìƒì„±ì ì£¼ì…ì—ì„œë§Œ ê°€ëŠ¥í•˜ë‹¤.         

**ì •ë¦¬**   
* ìƒì„±ì ì£¼ì… ë°©ì‹ì„ ì„ íƒí•˜ëŠ” ì´ìœ ëŠ” ì—¬ëŸ¬ê°€ì§€ê°€ ìˆì§€ë§Œ,   
  í”„ë ˆì„ì›Œí¬ì— ì˜ì¡´í•˜ì§€ ì•Šê³ , ìˆœìˆ˜í•œ ìë°” ì–¸ì–´ì˜ íŠ¹ì§•ì„ ì˜ ì‚´ë¦¬ëŠ” ë°©ë²•ì´ê¸°ë„ í•˜ë‹¤.
* ìœ—ë§ì— ë§ë¶™ì—¬ ë§í•˜ìë©´, ìˆœìˆ˜í•œ ìë°” ì–¸ì–´ì˜ íŠ¹ì§•ì„ ì‚´ë ¸ê¸°ì— í…ŒìŠ¤íŠ¸ì—ë„ ìš©ì´í•˜ë‹¤  
* ê¸°ë³¸ìœ¼ë¡œ ìƒì„±ì ì£¼ì…ì„ ì‚¬ìš©í•˜ê³ , í•„ìˆ˜ ê°’ì´ ì•„ë‹Œ ê²½ìš°ì—ëŠ” ìˆ˜ì •ì ì£¼ì… ë°©ì‹ì„ ì˜µì…˜ìœ¼ë¡œ ë¶€ì—¬í•˜ë©´ ëœë‹¤. 
* ìƒì„±ì ì£¼ì…ê³¼ ìˆ˜ì •ì ì£¼ì…ì„ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
* í•­ìƒ ìƒì„±ì ì£¼ì…ì„ ì„ íƒí•´ë¼! ê·¸ë¦¬ê³  ê°€ë” ì˜µì…˜ì´ í•„ìš”í•˜ë©´ ìˆ˜ì •ì ì£¼ì…ì„ ì„ íƒí•´ë¼. 
* í•„ë“œ ì£¼ì…ì€ ì‚¬ìš©í•˜ì§€ì•ŠëŠ”ê²Œ ì¢‹ë‹¤   
    
# ë¡¬ë³µê³¼ ìµœì‹  íŠ¸ëœë“œ      
ë¡¬ë³µì€ ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë°˜ë³µ ì½”ë“œë“¤ì„ ëŒ€ì‹  ì‘ì„±í•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤.           
ì˜ˆë¥¼ ë“¤ë©´ `Getter`, `Setter`, `ToString`, `ìƒì„±ì`ì™€ ê°™ì€ ì½”ë“œë“¤ì´ ìˆë‹¤.            
ê·¸ë¦¬ê³  ë¡¬ë³µì€ **ì–´ë…¸í…Œì´ì…˜ í”„ë¡œì„¸ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘ì„ í•œë‹¤.**     
    
**ë¡¬ë³µ ì„¤ì •**

1. `Prefrences(ìœˆë„ìš° File Settings)` -> `plugin` -> `lombok` ê²€ìƒ‰ ì„¤ì¹˜ ì‹¤í–‰ (ì¬ì‹œì‘)
2. `Prefrences` -> `Annotation Processors` ê²€ìƒ‰ -> `Enable annotation processing` ì²´í¬ (ì¬ì‹œì‘)
3. ì„ì˜ì˜ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³  `@Getter, @Setter` í™•ì¸    
    * í•„ìê°™ì€ ê²½ìš° community ì‚¬ìš©ì‹œ,   
      `Annotation Processors`ì´ ë™ì‘ì•ˆí•´ì„œ ëŸ°íƒ€ì„ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ê²¨ì›…ê°€ ì¢…ì¢… ìˆì—ˆë‹¤.   
      ê·¸ë ‡ê¸°ì— ì• í”Œë¦¬ì¼€ì´ì…˜ì„ `run`í•˜ê¸° ì „ì— ì˜ ëŒì•„ê°€ëŠ”ì§€ í™•ì¸ë¶€í„° í•˜ì.     
      
ì´í›„, `build.gradle`ì„ ì•„ë˜ì™€ ê°™ì´ ë³€ê²½í•´ì¤€ë‹¤.  
   
**build.gradle**    
```java
plugins {
    id 'org.springframework.boot' version '2.4.4'
    id 'io.spring.dependency-management' version '1.0.11.RELEASE'
    id 'java'
}

group = 'hello'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = '1.8'

repositories {
    mavenCentral()
}

configurations {
    compileJava {
        extendsFrom annotationProcessor
    }
}

dependencies {
    implementation 'org.projectlombok:lombok'

    compileOnly'org.projectlombok:lombok'
    annotationProcessor 'org.projectlombok:lombok'

    testCompileOnly'org.projectlombok:lombok'
    testAnnotationProcessor 'org.projectlombok:lombok'

    implementation 'org.springframework.boot:spring-boot-starter'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}

test {
    useJUnitPlatform()
}
```

**ì ìš© í™•ì¸**
```java
package hello.core;

import lombok.Getter;
import lombok.Setter;
import lombok.ToString;

@Getter
@Setter
@ToString
public class HelloLombok {

    private String name;
    private int age;

    public static void main(String[] args) {
        HelloLombok helloLombok = new HelloLombok();
        helloLombok.setName("hi");
        System.out.println("helloLombok = " + helloLombok);

        String name = helloLombok.getName();
        System.out.println("name = " + name);
    }
}
```
ìœ„ ì½”ë“œë¥¼ ë³´ë©´ í´ë˜ìŠ¤ì—ëŠ” ì‹¤ì§ˆì ì¸ `Getter/Setter` ë©”ì„œë“œê°€ ì¡´ì¬í•˜ì§€ ì•Šì§€ë§Œ   
ì»´íŒŒì¼ ì—ëŸ¬ë„ ì—†ìœ¼ë©°, í•´ë‹¹ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê³  ì‚¬ìš©í•˜ê³  ìˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.     

**ë¡¬ë³µìœ¼ë¡œ ë¦¬íŒ©í„°ë§ ë° ë¹„êµ**
```java
package hello.core.order;

import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

    @Autowired
    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }

    // í…ŒìŠ¤íŠ¸ ìš©ë„
    public MemberRepository getMemberRepository() {
        return memberRepository;
    }

}

```

```java
package hello.core.order;

import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import lombok.RequiredArgsConstructor;
import org.springframework.stereotype.Component;

@RequiredArgsConstructor
@Component
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }

    // í…ŒìŠ¤íŠ¸ ìš©ë„
    public MemberRepository getMemberRepository() {
        return memberRepository;
    }

}
```  
ë¡¬ë³µì„ ì‚¬ìš©í•˜ë©´ì„œ, ë§¤ í´ë˜ìŠ¤ë§ˆë‹¤ ë°˜ë³µì ìœ¼ë¡œ ì‘ì„±í•´ì•¼í•  ì½”ë“œë“¤ì„ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ í•´ê²°í–ˆë‹¤.         
ì°¸ê³ ë¡œ ìœ„ ì½”ë“œëŠ” ìƒì„±ìê°€ 1ê°œì¼ ê²½ìš° `@Autowired`ê°€ ë¶™ëŠ”ë‹¤ëŠ” íŠ¹ì§•ì„ í™œìš©í•œ ê²ƒì´ë‹¤.             
ì¶”ê°€ì ìœ¼ë¡œ, í•„ì(kwj1270)ì˜ ì¶”ì²œìœ¼ë¡œ `@Builder`ë¼ëŠ” ì–´ë…¸í…Œì´ì…˜ë„ ìˆìœ¼ë‹ˆ ì´ë¥¼ í™œìš©í•˜ë©´ ì¢‹ì„ ê²ƒì´ë©°      
ì´ì™¸ì—ë„ [ì‹¤ë¬´ì—ì„œ ìœ ìš©í•œ ë¡¬ë³µ ì‚¬ìš©ë²•](https://cheese10yun.github.io/lombok/)ì— ëŒ€í•´ì„œ YUNë‹˜ì´ê»˜ì„œ ì •ë¦¬í•´ì£¼ì…¨ìœ¼ë‹ˆ ì´ì  ì°¸ê³ í•˜ì    
          
# ì¡°íšŒ ë¹ˆì´ 2ê°œ ì´ìƒ - ë¬¸ì œ       
ìš°ë¦¬ê°€ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” `@Autowired`ëŠ” íƒ€ì…(Type)ì„ ê¸°ë°˜ìœ¼ë¡œ ì¡°íšŒí•œë‹¤.         
ê·¸ë ‡ê¸°ì— ë™ì¼í•œ íƒ€ì…ì˜ ë¹ˆì´ 2ê°œ ì¡´ì¬í•œë‹¤ë©´, ì–´ë–¤ ë¹ˆì„ ì£¼ì…í•´ì•¼í• ì§€ ëª¨ë¥´ê¸°ì— ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.     
   
```java
@Component    
public class FixDiscountPolicy implements DiscountPolicy {}
```
```java
@Component
public class RateDiscountPolicy implements DiscountPolicy {}ê·¸ë¦¬ê³  ì´ë ‡ê²Œ ì˜ì¡´ê´€ê³„ ìë™ ì£¼ì…ì„ ì‹¤í–‰í•˜ë©´
```
```java
@Autowired
private DiscountPolicy discountPolicy
```
**ê²°ê³¼**
```
NoUniqueBeanDefinitionException: No qualifying bean of type 
'hello.core.discount.DiscountPolicy' available: expected single matching bean 
but found 2: fixDiscountPolicy,rateDiscountPolicy
```
ìœ„ì™€ ê°™ì€ ì½”ë“œê°€ ì£¼ì–´ì¡Œì„ ë•Œ, `NoUniqueBeanDefinitionException` ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.

ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ í•´ì„í•´ë³´ë©´,  
í•˜ë‚˜ì˜ ë¹ˆì„ ê¸°ëŒ€í–ˆëŠ”ë° `fixDiscountPolicy` , `rateDiscountPolicy` 2ê°œê°€ ë°œê²¬ë˜ì—ˆë‹¤ê³  ë§í•´ì¤€ë‹¤.
               
ë‹¨í¸ì ì¸ í•´ê²° ë°©ë²•ìœ¼ë¡œ ìƒìœ„ íƒ€ì…ì´ ì•„ë‹Œ êµ¬ì²´ì ì¸ í•˜ìœ„ íƒ€ì…ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ë„ ìˆì§€ë§Œ,            
í•˜ìœ„ íƒ€ì…ìœ¼ë¡œ ì§€ì •í•˜ëŠ” ê²ƒì€ DIPë¥¼ ìœ„ë°°ì‹œí‚¤ê³  ìœ ì—°ì„±ì„ ë–¨ì–´ëœ¨ë¦°ë‹¤ëŠ” ë¬¸ì œì ì— ì‚¬ìš©ì— ì•Œë§ì§€ ì•Šë‹¤.      
ë˜í•œ, ì´ë¦„ë§Œ ë‹¤ë¥´ê³ , ì™„ì „íˆ ë˜‘ê°™ì€ íƒ€ì…ì˜ ìŠ¤í”„ë§ ë¹ˆì´ 2ê°œ ìˆì„ ë•Œ í•´ê²°ì´ ì•ˆëœë‹¤.   
       
ìŠ¤í”„ë§ ë¹ˆì„ ìˆ˜ë™ ë“±ë¡í•´ì„œ ë¬¸ì œë¥¼ í•´ê²°í•´ë„ ë˜ì§€ë§Œ,     
ì˜ì¡´ ê´€ê³„ ìë™ ì£¼ì…ì—ì„œ í•´ê²°í•˜ëŠ” ì—¬ëŸ¬ ë°©ë²•ì´ ìˆìœ¼ë‹ˆ ì´ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì  

# @Autowired í•„ë“œëª…, @Qualifier, @Primary
ì£¼ì… ë°›ì„ ë¹ˆ íƒ€ì¼“ì´ 2ê°œì´ìƒì¼ ë•Œ, ì•„ë˜ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.   
   
* @Autowired í•„ë“œëª… ë§¤ì¹­
* @Qualifier -> @Qualifier ë¼ë¦¬ ë§¤ì¹­ -> ë¹ˆ ì´ë¦„ ì§€ì •    
* @Primary ì‚¬ìš© 

## @Autowired í•„ë“œëª…   
`@Autowired`ëŠ” ë‹¨ìˆœíˆ íƒ€ì…ìœ¼ë¡œë§Œ ì˜ì¡´ ê´€ê³„ ì£¼ì…ì„ ì§„í–‰í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.    
      
* `@Autowired` ëŠ” ì²˜ìŒì—ëŠ” íƒ€ì… ë§¤ì¹­ì„ ì‹œë„í•˜ê³ ,      
* ì—¬ëŸ¬ ë¹ˆì´ ìˆìœ¼ë©´ **í•„ë“œ ì´ë¦„**, **íŒŒë¼ë¯¸í„° ì´ë¦„**ìœ¼ë¡œ ë¹ˆ ì´ë¦„ì„ ì¶”ê°€ë§¤ì¹­í•œë‹¤.    

**ê¸°ì¡´ ì½”ë“œ**
```java
@Autowired
private DiscountPolicy discountPolicy
```
     
**í•„ë“œ ëª…ì„ ë¹ˆ ì´ë¦„ìœ¼ë¡œ ë³€ê²½**  
```java  
@Autowired
private DiscountPolicy rateDiscountPolicy
```
í•„ë“œ ëª…ì´ `rateDiscountPolicy` ì´ ë˜ë©´ì„œ ì •ìƒ ì£¼ì…ì´ ë˜ì—ˆë‹¤.         
í•„ë“œ ëª… ë§¤ì¹­ì€ ë¨¼ì € íƒ€ì… ë§¤ì¹­ì„ ì‹œë„ í•˜ê³  ê·¸ ê²°ê³¼ì— ì—¬ëŸ¬ ë¹ˆì´ ìˆì„ ë•Œ ì¶”ê°€ë¡œ ë™ì‘í•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤.            
       
ìœ„ ì½”ë“œëŠ” í•„ë“œ ì£¼ì…ì„ ì˜ˆì‹œë¡œ ì ìš©ì„ í•œ ì‚¬ë¡€ì´ê³            
ì‹¤ì œ ìƒì„±ìì˜ íŒŒë¼ë¯¸í„° ë³€ìˆ˜ì˜ ì´ë¦„ì—ë„ ì´ ê°™ì€ ê¸°ëŠ¥ì´ ë™ì‘í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸í•´ë³´ì       

```java
@Component
public class FixDiscountPolicy implements DiscountPolicy {
    ...
}
```
```java
@Component
public class RateDiscountPolicy implements DiscountPolicy{
    ...
}
```
ìœ„ì™€ ê°™ì´ `DiscountPolicy` íƒ€ì…ì˜ ë¹ˆì„ 2ê°œ ë“±ë¡ì„ í–ˆë‹¤.   
    
**OrderServiceImpl**
```java
@Component
public class OrderServiceImpl implements OrderService {

    ....
    
    @Autowired
    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }
    
    ...
}
```
ìœ„ì™€ ê°™ì€ ì½”ë“œë¡œ ì‘ì„±ì„ í•˜ë©´ ì£¼ì… ê´€ê³„ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.   
ì™œëƒí•˜ë©´ `@Autowired`ëŠ” íƒ€ì…ì„ ê¸°ì¤€ìœ¼ë¡œ ì˜ì¡´ ê´€ê³„ë¥¼ ì°¾ì§€ë§Œ,  
ê°™ì€ íƒ€ì…ì´ ì•„ë‹Œ ê²½ìš° í•„ë“œëª…ì˜ ì´ë¦„ì„ ê¸°ì¤€ìœ¼ë¡œ ì˜ì¡´ ê´€ê³„ë¥¼ ë§ºìœ¼ë ¤ê³  í•œë‹¤.   
   
í•˜ì§€ë§Œ, ìœ„ ì½”ë“œëŠ” íƒ€ì…ë„ 2ê°œì´ë©°, ì´ë¦„ë„ ë§¤ì¹­ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.   
   
```java
package hello.core.order;

import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

    @Autowired
    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy rateDiscountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = rateDiscountPolicy;
    }

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }

    // í…ŒìŠ¤íŠ¸ ìš©ë„
    public MemberRepository getMemberRepository() {
        return memberRepository;
    }

}
```
ìœ„ì™€ ê°™ì´ ë©”ì„œë“œ íŒŒë¼ë¯¸í„° ë³€ìˆ˜ëª…ì˜ ì´ë¦„ì„       
ë¹ˆì˜ ì‹ë³„ ì´ë¦„ìœ¼ë¡œ ì§€ì •í•´ì£¼ë©´, 2ê°œ ì´ìƒì˜ ê°™ì€ íƒ€ì…ì˜ ë¹ˆì´ ìˆë‹¤í•˜ë”ë¼ë„      
ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì… ë°›ì„ ìˆ˜ ìˆë‹¤.      
  
**@Autowired ì •ë¦¬**
1. íƒ€ì… ë§¤ì¹­
2. íƒ€ì… ë§¤ì¹­ì˜ ê²°ê³¼ê°€ 2ê°œ ì´ìƒì¼ ë•Œ í•„ë“œ ëª…, íŒŒë¼ë¯¸í„° ëª…ìœ¼ë¡œ ë¹ˆ ì´ë¦„ ë§¤ì¹­
          
## @Qualifier ì‚¬ìš©     
`@Qualifier` ëŠ” **ì¶”ê°€ êµ¬ë¶„ì**ë¥¼ ë¶™ì—¬ì£¼ëŠ” ë°©ë²•ì´ë‹¤.              
ì£¼ì…ì‹œ ì¶”ê°€ì ì¸ ë°©ë²•ì„ ì œê³µí•˜ëŠ” ê²ƒì´ì§€ **ë¹ˆ ì´ë¦„ì„ ë³€ê²½í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤!**         
**ë¹ˆ ì‹ë³„ì„ ìœ„í•œ ë©”íƒ€ ë°ì´í„°**ë¼ê³  ìƒê°í•˜ë©´ ì´í•´í•˜ê¸° í¸í•˜ë‹¤.         

**RateDiscountPolicy**
```
@Component
@Qualifier("mainDiscountPolicy")
public class RateDiscountPolicy implements DiscountPolicy {
    ...
}
```    
  
**FixDiscountPolicy**
```
@Component
@Qualifier("subDiscountPolicy")
public class FixDiscountPolicy implements DiscountPolicy {
    ...
}
```  
`@Qualifier`ëŠ” ë¹ˆ ì‹ë³„ì„ ìœ„í•œ ì¶”ê°€ êµ¬ë¶„ì,ì‹ë³„ ë©”íƒ€ ë°ì´í„° ì œê³µ ì–´ë…¸í…Œì´ì…˜ì´ë‹¤.        
ê·¸ë ‡ê¸°ì— ë™ì¼í•œ íƒ€ì…ì˜ ë¹ˆ ë“±ë¡ì‹œ `@Qualifier`ë¥¼ í†µí•´ ì‹ë³„êµ¬ë¬¸ì„ ë„£ì–´ì¤€ë‹¤.   
  

**OrderServiceImpl**
```java
package hello.core.order;

import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Qualifier;
import org.springframework.stereotype.Component;

@Component
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

    @Autowired
    public OrderServiceImpl(MemberRepository memberRepository,@Qualifier("mainDiscountPolicy") DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }

    // í…ŒìŠ¤íŠ¸ ìš©ë„
    public MemberRepository getMemberRepository() {
        return memberRepository;
    }

}
``` 
`@Qualifier`ì„ `DI`ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ ê°„ë‹¨í•˜ë‹¤.                    
ì˜ì¡´ ê´€ê³„ ì£¼ì…ì„ ë°›ì„ ê°ì²´ ì˜†ì— `@Qualifier("ì‹ë³„ì")`ë¥¼ ë¶™ì—¬ì£¼ë©´ ëœë‹¤.                 
ê·¸ëŸ¬ë©´ `DI ì»¨í…Œì´ë„ˆ`ì—ì„œ í•´ë‹¹í•˜ëŠ” ì‹ë³„ìë¥¼ ê°€ì§„ ë¹ˆì„ ì°¾ì•„ì„œ ì˜ì¡´ ê´€ê³„ ì£¼ì…ì„ ë§ºì–´ì¤€ë‹¤.        
  
ê·¸ë¦¬ê³  ì´ëŸ¬í•œ `@Qualifier`ëŠ”  

* í•„ë“œ ì£¼ì…
* ìƒì„±ì ì£¼ì…
* Setter ì£¼ì…
* ì¼ë°˜ ë©”ì„œë“œ ì£¼ì…
  
ëª¨ë‘ì—ì„œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤. (ë‹¨, ì°¸ì¡° ë³€ìˆ˜ ì˜†ì— ë¶™ì—¬ì•¼í•œë‹¤.)      
   
**ê·¸ë ‡ë‹¤ë©´ ê¶ê¸ˆì¦, í•´ë‹¹í•˜ëŠ” ì‹ë³„ìê°€ ì—†ìœ¼ë©´ ì–´ë–»ê²Œë˜ì§€? ğŸ¤”**        
`@Qualifier`ë˜í•œ, `@Autowired`ì²˜ëŸ¼ ì§€ì •í•œ ì‹ë³„ìë¥¼ ì´ë¦„ìœ¼ë¡œ ê°–ëŠ” ë¹ˆì„ ì¶”ê°€ë¡œ ì°¾ëŠ”ë‹¤.   
í•˜ì§€ë§Œ, `@Qualifier`ë¥¼ ì´ìš©í•œ ë¹ˆ ì¡°íšŒì‹œì—ëŠ” ì´ëŸ¬í•œ ë°©ì‹ì„ ì‚¬ìš©í•˜ì§€ ë§ê³   
**`@Autowired`ë¥¼ ì´ìš©í•œ ë¹ˆ ì°¾ê¸° + `@Qualifier` ì¶”ê°€ êµ¬ë¶„ì** ë¡œë§Œ ì‚¬ìš©í•˜ì        

**ì§ì ‘ ë¹ˆ ë“±ë¡ì‹œ**   
```java
@Bean
@Qualifier("mainDiscountPolicy")
public DiscountPolicy discountPolicy() {
    return new ...
}
```
ì§ì ‘ ë¹ˆ ë“±ë¡í•˜ëŠ” ë°©ì‹ì—ì„œë„ ì´ë ‡ê²Œ ì‚¬ìš©í•  ìˆ˜ê°€ ìˆë‹¤.      
       
**@Qualifier ë§¤ì¹­ ìˆœì„œ ì •ë¦¬**
1. ê°™ì€ ì‹ë³„ìë¥¼ ê°€ì§„ `@Qualifier`ë¼ë¦¬ ë§¤ì¹­    
2. ë¹ˆ ì´ë¦„ ë§¤ì¹­    
3. NoSuchBeanDefinitionException ì˜ˆì™¸ ë°œìƒ   

# @Primary   
> í•„ì(kwj1270)ì€ ì‚¬ìš©í•´ë³¸ ê²½í—˜ì´ ì—†ì§€ë§Œ, ì‹¤ë¬´ì—ì„œëŠ” ë§ì´ ì‚¬ìš©í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜ ê°™ë‹¤.     
         
`@Primary`ëŠ” ì˜ì¡´ ê´€ê³„ ì£¼ì…ì‹œ ìš°ì„ ìˆœìœ„ë¥¼ ì§€ì •í•˜ëŠ” ë©”íƒ€ ë°ì´í„° ì–´ë…¸í…Œì´ì…˜ì´ë‹¤.        
ì‰½ê²Œ ì„¤ëª…í•˜ë©´, ì—¬ëŸ¬ ë™ì¼í•œ íƒ€ì…ì˜ ë¹ˆë“¤ì¤‘ `@Primary`ê°€ ë¶™ì€ ë¹ˆì„ ìš°ì„ ìœ¼ë¡œ ì£¼ì… ë°›ëŠ”ë‹¤.   

```java
@Component
@Primary
public class RateDiscountPolicy implements DiscountPolicy {
    ...
}
```
```java
@Component
public class FixDiscountPolicy implements DiscountPolicy {
    ...
}
```
ë™ì¼í•œ íƒ€ì…ì„ ê°€ì§„ ë¹ˆì´ ì—¬ëŸ¿ ë“±ë¡ ë  ë•Œ,      
ë©”ì¸ì´ ë˜ëŠ” ë¹ˆì— `@Primary` ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ì¤€ë‹¤.      
  
```java
package hello.core.order;

import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Qualifier;
import org.springframework.stereotype.Component;

@Component
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

    @Autowired
    public OrderServiceImpl(MemberRepository memberRepository,DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }

    // í…ŒìŠ¤íŠ¸ ìš©ë„
    public MemberRepository getMemberRepository() {
        return memberRepository;
    }

}
```   
`@Primary`ê°€ ë¶™ì—ˆë˜ ë¹ˆì€ ìµœìš°ì„ ìˆœìœ„ë¥¼ ê°€ì§€ê²Œ ë˜ë¯€ë¡œ             
ì¼ë°˜ì ì¸ ì£¼ì… ë°©ë²•ìœ¼ë¡œë„ ì¶©ëŒ ì—†ì´ ë¹ˆì„ ì˜ì¡´ ë°›ì„ ìˆ˜ ìˆë‹¤.     
   
**ê·¸ë ‡ë‹¤ë©´ `@Primary`ê°€ ë¶™ëŠ”ë‹¤ë©´?ğŸ¤”**      
**`@Primary`ëŠ” í•œ ê°œë§Œ ì‚¬ìš©ê°€ëŠ¥í•œê°€?ğŸ¤”**       
            
`@Primary`ëŠ” ìµœìš°ì„ ìˆœìœ„ë¥¼ ì£¼ëŠ” ê²ƒì´ë‹¤.        
ê·¸ë ‡ê¸°ì— ë™ì¼í•œ íƒ€ì…ì˜ ë¹ˆì— 2ë²ˆ ì´ìƒ ì‚¬ìš© ë¶ˆê°€ëŠ¥í•˜ë‹¤.        

___
   
ì—¬ê¸°ê¹Œì§€ ë³´ë©´ `@Primary` ì™€ `@Qualifier` ì¤‘ì— ì–´ë–¤ ê²ƒì„ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ì§€ ê³ ë¯¼ì´ ë  ê²ƒì´ë‹¤.      
`@Qualifier`ì˜ ë‹¨ì ì€ ì£¼ì… ë°›ì„ ë•Œ ë‹¤ìŒê³¼ ê°™ì´ ëª¨ë“  ì½”ë“œì— `@Qualifier` ë¥¼ ë¶™ì—¬ì£¼ì–´ì•¼ í•œë‹¤ëŠ” ì ì´ë‹¤.     
      
```java  
@Autowired    
public OrderServiceImpl(MemberRepository memberRepository, @Qualifier("mainDiscountPolicy") DiscountPolicy discountPolicy) {
    this.memberRepository = memberRepository;
    this.discountPolicy = discountPolicy;
}
```        
ë°˜ë©´ì—, `@Primary` ë¥¼ ì‚¬ìš©í•˜ë©´ ì´ë ‡ê²Œ `@Qualifier` ë¥¼ ë¶™ì¼ í•„ìš”ê°€ ì—†ë‹¤.         
í´ë¦°ì½”ë“œì—ì„œ ë§í•˜ê¸¸ ì£¼ì„ì´ ë§ì•„ì§€ë©´ ìœ ì§€ë³´ìˆ˜ ê´€ë¦¬í•˜ê¸°ê°€ í˜ë“¤ì–´ì§„ë‹¤ê³  ë§í•œë‹¤.       
í•„ì ìƒê°ìœ¼ë¡œ `@Qualifier`ë˜í•œ, ê°™ì€ ì´ë¦„ì„ ë§ì¶°ì£¼ê³  ì‚¬ìš©í•´ì•¼í•˜ë‹ˆ ê´€ë¦¬í•˜ê¸° ì–´ë ¤ìš¸ ê²ƒì´ë¼ ìƒê°ë“ ë‹¤.     
ê·¸ë ‡ê¸°ì— í•„ì ì¶”ì²œìœ¼ë¡œëŠ” **@Primary ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤**       	    
	       
**`@Primary`, `@Qualifier` í™œìš©**       
ì½”ë“œì—ì„œ ìì£¼ ì‚¬ìš©í•˜ëŠ” **ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì»¤ë„¥ì…˜ì„ íšë“í•˜ëŠ” ìŠ¤í”„ë§ ë¹ˆ**ì´ ìˆê³ ,        
ì½”ë“œì—ì„œ íŠ¹ë³„í•œ ê¸°ëŠ¥ìœ¼ë¡œ **ê°€ë” ì‚¬ìš©í•˜ëŠ” ì„œë¸Œ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì»¤ë„¥ì…˜ì„ íšë“í•˜ëŠ” ìŠ¤í”„ë§ ë¹ˆ**ì´ ìˆë‹¤ê³  ìƒê°í•´ë³´ì.      
**ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì»¤ë„¥ì…˜**ì„ íšë“í•˜ëŠ” ìŠ¤í”„ë§ ë¹ˆì€         
**@Primary ë¥¼ ì ìš©**í•´ì„œ ì¡°íšŒí•˜ëŠ” ê³³ì—ì„œ `@Qualifier` ì§€ì • ì—†ì´ í¸ë¦¬í•˜ê²Œ ì¡°íšŒí•˜ê³ ,      
**ì„œë¸Œ ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë„¥ì…˜ ë¹ˆ**ì„ íšë“í•  ë•ŒëŠ”       
**@Qualifier**ë¥¼ ì§€ì •í•´ì„œ ëª…ì‹œì ìœ¼ë¡œ íšë“ í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•˜ë©´ ì½”ë“œë¥¼ ê¹”ë”í•˜ê²Œ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.      
ë¬¼ë¡  ì´ë•Œ ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤ì˜ ìŠ¤í”„ë§ ë¹ˆì„ ë“±ë¡í•  ë•Œ `@Qualifier` ë¥¼ ì§€ì •í•´ì£¼ëŠ” ê²ƒì€ ìƒê´€ì—†ë‹¤.
       
**ìš°ì„ ìˆœìœ„**      
`@Primary` ëŠ” ê¸°ë³¸ê°’ ì²˜ëŸ¼ ë™ì‘í•˜ëŠ” ê²ƒì´ê³ ,     
`@Qualifier` ëŠ” ë§¤ìš° ìƒì„¸í•˜ê²Œ ë™ì‘í•œë‹¤.         
ì´ëŸ° ê²½ìš° ì–´ë–¤ ê²ƒì´ ìš°ì„ ê¶Œì„ ê°€ì ¸ê°ˆê¹Œ?      
ìŠ¤í”„ë§ì€ ìë™ë³´ë‹¤ëŠ” ìˆ˜ë™ì´, ë„’ì€ ë²”ìœ„ì˜ ì„ íƒê¶Œ ë³´ë‹¤ëŠ” ì¢ì€ ë²”ìœ„ì˜ ì„ íƒê¶Œì´ ìš°ì„  ìˆœìœ„ê°€ ë†’ë‹¤.    
ë”°ë¼ì„œ ì–´ë…¸í…Œì´ì…˜ì´ 2ê°œê°€ í•¨ê»˜ ì‚¬ìš©ëœë‹¤ë©´ **@Qualifier** ê°€ ìš°ì„ ê¶Œì´ ë†’ë‹¤.     

# ì–´ë…¸í…Œì´ì…˜ ì§ì ‘ ë§Œë“¤ê¸°       
`@Qualifier("mainDiscountPolicy")` ì˜ ë¬¸ì œì ì´ ë¬´ì—‡ì¸ì§€ ë³´ì´ëŠ”ê°€?    
ì‚¬ì‹¤ ì´ëŸ¬í•œ ë¶€ë¶„ì€ `í´ë¦°ì½”ë“œ`ì— ëŒ€í•´ì„œ ê³µë¶€ë¥¼ í•´ì•¼ ì¡°ê¸ˆì€ ë³´ì¸ë‹¤.   
  
`@Qualifier("mainDiscountPolicy")`ì˜ ë¬¸ì œì ì€ ë°”ë¡œ ë¬¸ìì—´ì´ë‹¤.        
ì´ë ‡ê²Œ ë¬¸ìì—´ ì ìœ¼ë©´ ì»´íŒŒì¼ì‹œ íƒ€ì… ì²´í¬ê°€ ì•ˆ ëœë‹¤ëŠ” ë¬¸ì œê°€ ë°œìƒí•œë‹¤.     
ì¦‰, ë‚´ê°€ ë¬¸ìì—´ì— ì˜¤íƒ€ë¥¼ ëƒˆëŠ”ì§€ ë˜ëŠ” ì•Œë§ëŠ” ë¬¸ìì—´ì„ ë„£ì—ˆëŠ”ì§€ ì–´ë…¸í…Œì´ì…˜ì€ ëª¨ë¥¸ë‹¤.    
        
ê·¸ë ‡ê¸°ì— ì´ì™€ ê°™ì€ ë¬¸ì œì ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ìƒìˆ˜ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ í´ë˜ìŠ¤ë¥¼ ë§Œë“œëŠ” ë“±          
 ìš°ë¦¬ëŠ” **íƒ€ì…ì˜ ì•ˆì •ì„±(type safety)** ì„ ìœ„í•´ ì½”ë“œë¥¼ ê°œì„ í•´ì•¼í•œë‹¤.        
         
ìš°ì„  ìœ„ì™€ ê°™ì€ ìƒí™©ì€ ì»¤ìŠ¤í…€ ì–´ë…¸í…Œì´ì…˜ì„ ë§Œë“¤ì–´ì„œ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤.   
  
**ì»¤ìŠ¤í…€ ì–´ë…¸í…Œì´ì…˜ - MainDiscountPolicy**   
```java
package hello.core.annotation;

import org.springframework.beans.factory.annotation.Qualifier;

import java.lang.annotation.*;

@Target({ElementType.FIELD, ElementType.METHOD, ElementType.PARAMETER, ElementType.TYPE, ElementType.ANNOTATION_TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Inherited
@Qualifier("mainDiscountPolicy")
public @interface MainDiscountPolicy {
}
``` 
`@Qualifier`ëŠ” ë©”íƒ€ ì–´ë…¸í…Œì´ì…˜ì´ê¸°ì— ì–´ë…¸í…Œì´ì…˜ ì •ì˜ì‹œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.       
ì´ ì ì„ ì´ìš©í•˜ì—¬ íŠ¹ì • ë¬¸ìì—´ì„ ê°€ì§„ `@Qualifier`ë¥¼ ì»¤ìŠ¤í…€ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.        
ì´ ê²½ìš°, íŠ¹ì • ë¬¸ìì—´ì„ ê°€ì¡Œìœ¼ë¯€ë¡œ ë¬¸ìì—´ íƒ€ì…ì— ëŒ€í•´ì„œ ìƒìˆ˜ì™€ ê°™ì€ ì•ˆì •ì„±ì„ ì¤„ ìˆ˜ ìˆë‹¤.        
     
ì´ì œ ì´ ì»¤ìŠ¤í…€ ì–´ë…¸í…Œì´ì…˜ì„ ì‹¤ì œ ì½”ë“œì— ì ìš©í•´ë³´ì    
      
**ì–´ë…¸í…Œì´ì…˜ ì ìš© - ë¹ˆ**
```java
package hello.core.discount;

import hello.core.annotation.MainDiscountPolicy;
import hello.core.member.Grade;
import hello.core.member.Member;
import org.springframework.beans.factory.annotation.Qualifier;
import org.springframework.context.annotation.Primary;
import org.springframework.stereotype.Component;

@MainDiscountPolicy
@Component
public class RateDiscountPolicy implements DiscountPolicy {

    private int discountPercent = 10;

    @Override
    public int discount(Member member, int price) {
        if (member.getGrade() == Grade.VIP) {
            return price * discountPercent / 100;
        }
        return 0;
    }
}
```

**ì–´ë…¸í…Œì´ì…˜ ì ìš© - DI**
```java
package hello.core.order;

import hello.core.annotation.MainDiscountPolicy;
import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

    @Autowired
    public OrderServiceImpl(MemberRepository memberRepository,@MainDiscountPolicy DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }

    // í…ŒìŠ¤íŠ¸ ìš©ë„
    public MemberRepository getMemberRepository() {
        return memberRepository;
    }

}
```
ì˜ ë™ì‘í•˜ëŠ”ê±¸ í™•ì¸í•  ìˆ˜ ìˆë‹¤.  
           
**ì–´ë…¸í…Œì´ì…˜ì—ëŠ” ìƒì†ì´ë¼ëŠ” ê°œë…ì´ ì—†ë‹¤.**            
ì´ë ‡ê²Œ ì—¬ëŸ¬ ì• ë…¸í…Œì´ì…˜ì„ ëª¨ì•„ì„œ ì‚¬ìš©í•˜ëŠ” ê¸°ëŠ¥ì€ ìŠ¤í”„ë§ì´ ì§€ì›í•´ì£¼ëŠ” ê¸°ëŠ¥ì´ë‹¤.            
ì •í™•íˆ ë§í•˜ìë©´ `@Qulifier`ì„ ìŠ¤í”„ë§ì—ì„œ ë©”íƒ€ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ì§€ì •í–ˆê¸°ì— ê°€ëŠ¥í•œ ê²ƒì´ë‹¤.        
`@Qulifier` ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ë¥¸ ì• ë…¸í…Œì´ì…˜ë“¤ë„ í•¨ê»˜ ì¡°í•©í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.    
ë‹¨ì ìœ¼ë¡œ `@Autowired`ë„ ì¬ì •ì˜ í•  ìˆ˜ ìˆë‹¤.       
ë¬¼ë¡  ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì„ ëšœë ·í•œ ëª©ì  ì—†ì´ ë¬´ë¶„ë³„í•˜ê²Œ ì¬ì •ì˜í•˜ëŠ” ê²ƒì€      
ìœ ì§€ë³´ìˆ˜ì— ë” í˜¼ë€ë§Œ ê°€ì¤‘í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì‚¬ìš© ì „ ì¶©ë¶„íˆ ê²€í† í›„ ì‚¬ìš©í•˜ê¸¸ ë°”ë€ë‹¤.   

# ì¡°íšŒí•œ ë¹ˆì´ ëª¨ë‘ í•„ìš”í•  ë•Œ, List, Map  
ì§€ê¸ˆê¹Œì§€ëŠ” ì—¬ëŸ¬ê°œì˜ ë¹ˆì´ ìˆì„ ë•Œ ë‹¨ í•œê°œë§Œì„ ì¡°íšŒí•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ë°°ì› ë‹¤.        
í•˜ì§€ë§Œ ê°„í˜¹, ê°™ì€ íƒ€ì…ì˜ ì—¬ëŸ¬ê°œì˜ ë¹ˆì„ ì „ë¶€ ì‚¬ìš©í•´ì•¼í•  ë•Œë„ ìˆë‹¤.                
ì˜ˆì œë¥¼ ì˜ˆì‹œë¡œ ë“¤ë©´, ì´ì œ ì‚¬ìš©ìê°€ ì›í•˜ëŠ” í• ì¸ ì •ë³´ë¥¼ ì„ íƒí•˜ëŠ” ê²ƒì´ í•´ë‹¹ëœë‹¤.       
    
**ê·¸ëŸ°ë° ì–´ë–»ê²Œ ì‚¬ìš©ì„ í•˜ì§€? ğŸ¤”**     
ìŠ¤í”„ë§ì„ ì‚¬ìš©í•˜ë©´ ì†Œìœ„ ë§í•˜ëŠ” **ì „ëµ íŒ¨í„´**ì„ ë§¤ìš° ê°„ë‹¨íˆ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.    








