# ë‹¤ì–‘í•œ ì˜ì¡´ê´€ê³„ ì£¼ì… ë°©ë²•
Springì—ì„œ ì§€ì›í•˜ëŠ” ì˜ì¡´ê´€ê³„ëŠ” í¬ê²Œ 4ê°€ì§€ê°€ ìˆë‹¤.  
   
* **ìƒì„±ì ì£¼ì…**     
* Setter ì£¼ì…     
* í•„ë“œ ì£¼ì…      
* ì¼ë°˜ ë©”ì„œë“œ ì£¼ì…     

## ìƒì„±ì ì£¼ì…  
ìš°ì„ , ì§€ê¸ˆ í˜„ì¬ ê°€ì¥ ì¶”ì²œí•˜ëŠ” ë°©ë²•ìœ¼ë¡œ   
ì´ë¦„ ê·¸ëŒ€ë¡œ `ìƒì„±ì`ë¥¼ í†µí•´ì„œ ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì… ë°›ëŠ” ë°©ë²•ì´ë‹¤.   
     
**íŠ¹ì§•**    
* ìƒì„±ì í˜¸ì¶œì‹œì ì— ë”± 1ë²ˆ í˜¸ì¶œë˜ëŠ” ê²ƒì´ ë³´ì¥ëœë‹¤.     
* ìƒì„±ì í˜¸ì¶œì‹œì ì´ê¸°ì— ë¹ˆì´ ë“±ë¡ ë˜ëŠ” ê³¼ì •ì—ì„œ ì—°ê´€ëœ ì˜ì¡´ ê´€ê³„ê¹Œì§€ ë¬¶ì–´ì„œ ë“±ë¡ëœë‹¤.     
* **ë¶ˆë³€**, **í•„ìˆ˜** ì˜ì¡´ê´€ê³„ì— ì‚¬ìš©ëœë‹¤.    
  
```java
import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

    @Autowired
    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }
    // ...ìƒëµ
}
```
ê·¸ë¦¬ê³  **ìƒì„±ì ì£¼ì…ì´ ê°€ì§„ ê°€ì¥ í° ì¥ì ì´ í•˜ë‚˜ìˆë‹¤.**        
ë°”ë¡œ, **ìƒì„±ìê°€ ë‹¨ í•œ ê°œë¿ì¼ ë•Œ `@Autowired`ë¥¼ ìë™ìœ¼ë¡œ ì£¼ì…í•´ì¤€ë‹¤.**     
   
ì¦‰, ìœ„ì™€ ê°™ì€ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ì´ í‘œí˜„ì„ í•  ìˆ˜ ìˆë‹¤.  
    
**@Autowired ìƒëµ í˜•íƒœ**
```java
import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;
   
    // ì—¬ê¸°ê°€ ìƒëµë˜ì—ˆë‹¤.   
    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }
    // ...ìƒëµ
}
```
**ê·¸ë ‡ë‹¤ë©´ ìƒì„±ìê°€ 2ê°œ ì´ìƒì´ë¼ë©´ ì „ë¶€ `@Autowired`ë¥¼ í•´ì¤˜ì•¼í•˜ë‚˜?ğŸ¤”**     
`@Autowired`ë¥¼ í•˜ëŠ” ì´ìœ ëŠ” ì—¬ëŸ¬ ìƒì„±ìì¤‘ ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì…ì‹œí‚¬ ë‹¨ í•˜ë‚˜ì˜ ìƒì„±ìë¥¼ ì°¾ê¸° ìœ„í•¨ì´ë‹¤.   
ê·¸ëŸ¬ë‹ˆ **ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì…ë°›ëŠ” ìƒì„±ìì—ê²Œë§Œ `@Autowired`ë¥¼ í•´ì£¼ì**     
      
ìƒì„±ì ì£¼ì…ì€ **ë¶ˆë³€ ìƒíƒœ**ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤ëŠ” í° ì¥ì ì„ ê°€ì§€ê³  ìˆë‹¤.    
í•˜ì§€ë§Œ ê¼­ ë¶ˆë³€ìœ¼ë¡œë§Œ ë§Œë“¤ì–´ì•„ ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆê¸°ì— `final` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.   
í•˜ì§€ë§Œ, ì´ì „ì—ë„ ì–¸ê¸‰í–ˆë“¯ **ë¶ˆë³€ìœ¼ë¡œ ë§Œë“œëŠ” ê²ƒì„ ìµœëŒ€í•œ ì§€í–¥í•˜ê¸°ì—**   
ìœ ì¼í•˜ê²Œ ë¶ˆë³€ìœ¼ë¡œ ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì…í•´ì£¼ëŠ” `ìƒì„±ì ì£¼ì…`ì„ ê°•ë ¥í•˜ê²Œ ì¶”ì²œí•œë‹¤.     
       
## Setter ì£¼ì… 
Setter ë©”ì„œë“œë¥¼ í†µí•´, ì´ì™€ ì—°ê´€ëœ í•„ë“œì˜ ê°’ì„ ë³€ê²½í•˜ëŠ” ì˜ì¡´ ê´€ê³„ ì£¼ì… ë°©ë²•ì´ë‹¤.     
  
**íŠ¹ì§•**      
* **ì„ íƒ**,**ë³€ê²½** ê°€ëŠ¥ì„±ì´ ìˆëŠ” ì˜ì¡´ ê´€ê³„ì—ì„œ ì‚¬ìš©ëœë‹¤.    
* ìë°”ë¹ˆ í”„ë¡œí¼í‹° ê·œì•½ì˜ Setter ë©”ì„œë“œ ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤.     
  * ìŠ¤í”„ë§ì—ì„œëŠ” `ìë°”ë¹ˆ í”„ë¡œí¼í‹° ê·œì•½`ì„ ì´ìš©í•œ ìë™í™” ê¸°ëŠ¥ì´ ë§ë‹¤.  
  * Setter ì£¼ì…ë„ ì´ëŸ¬í•œ ìë™í™” ì¤‘ í•˜ë‚˜ì´ë‹ˆ `ìë°”ë¹ˆ í”„ë¡œí¼í‹° ê·œì•½`ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤.   

```java
package hello.core.order;

import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class OrderServiceImpl implements OrderService {

    private MemberRepository memberRepository;
    private DiscountPolicy discountPolicy;

    @Autowired
    public void setMemberRepository(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }

    @Autowired
    public void setDiscountPolicy(DiscountPolicy discountPolicy) {
        this.discountPolicy = discountPolicy;
    }
     
    // ...ìƒëµ  
}
```

ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” 2ê°€ì§€ ë¼ì´í”„ ì‚¬ì´í´ì„ ê°€ì§€ê³  ìˆë‹¤.   
  
1. ìŠ¤í”„ë§ ë¹ˆì„ ë“±ë¡  
2. ì—°ê´€ ê´€ê³„ë¥¼ ìë™ìœ¼ë¡œ ì£¼ì…í•œë‹¤.  
  
Setter ë©”ì„œë“œ ë˜í•œ, `@Autowired`ë¥¼ í†µí•´, ì—°ê´€ ê´€ê³„ ìë™ ì£¼ì…ì„ ë°›ëŠ”ë‹¤.    
ìƒì„±ìì™€ ë‹¬ë¦¬, ë¹ˆì´ ë“±ë¡ëœ í›„ì— ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì…í•˜ëŠ” ë°©ì‹ì´ë‹¤.      
ê·¸ë¦¬ê³  ì–´ë–¤ Setter ì£¼ì…ì´ ë¨¼ì € ì‹¤í–‰ë ì§€ ìˆœì„œëŠ” ë³´ì¥ë˜ì§€ ì•ŠëŠ”ë‹¤.      

ì°¸ê³ ë¡œ, ì„ íƒì ìœ¼ë¡œ ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì… ë°›ì„ ìˆ˜ ìˆë‹¤ëŠ” ë§ì€ ì•„ë˜ì™€ ê°™ë‹¤.     
```java
    @Autowired(required = false)
    public void setMemberRepository(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }

    @Autowired
    public void setDiscountPolicy(DiscountPolicy discountPolicy) {
        this.discountPolicy = discountPolicy;
    }
```
`@Autowired`ì˜ `required` ì†ì„±ì„ ì´ìš©í•´ì„œ í•„ìˆ˜ë¡œ ì˜ì¡´ë°›ì•„ì•¼ í•˜ëŠ”ì§€ ì—¬ë¶€ë¥¼ ì§€ì •í•´ì¤„ ìˆ˜ ìˆë‹¤.   
ì‚¬ì‹¤, `@Autowired` ì˜ ê¸°ë³¸ ë™ì‘ì€ ì£¼ì…í•  ëŒ€ìƒì´ ì—†ìœ¼ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.    
ê·¸ë ‡ê¸°ì— ì£¼ì…í•  ëŒ€ìƒì´ ì—†ì–´ë„ ë™ì‘í•˜ê²Œ í•˜ë ¤ë©´ `@Autowired(required = false)` ë¡œ ì§€ì •í•˜ë©´ ëœë‹¤.
    
**ë§Œì•½, ìƒì„±ì ì£¼ì…ì´ë‘ Setterê°€ ë™ì‹œì— ì¡´ì¬í•œë‹¤ë©´? ğŸ¤”**        
  
```java
import hello.core.discount.DiscountPolicy;
import hello.core.member.Member;
import hello.core.member.MemberRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class OrderServiceImpl implements OrderService {

    private MemberRepository memberRepository;
    private DiscountPolicy discountPolicy;

    @Autowired
    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        System.out.println("memberRepository = " + memberRepository);
        System.out.println("discountPolicy = " + discountPolicy);
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);
        int discountPrice = discountPolicy.discount(member, itemPrice);
        return new Order(memberId, itemName, itemPrice, discountPrice);
    }

    @Autowired
    public void setMemberRepository(MemberRepository memberRepository) {
        System.out.println("memberRepository = " + memberRepository);
        this.memberRepository = memberRepository;
    }

    @Autowired
    public void setDiscountPolicy(DiscountPolicy discountPolicy) {
        System.out.println("discountPolicy = " + discountPolicy);
        this.discountPolicy = discountPolicy;
    }

}

```
**ê²°ê³¼**
```java
memberRepository = hello.core.member.MemoryMemberRepository@78dd667e
discountPolicy = hello.core.discount.RateDiscountPolicy@10db82ae
memberRepository = hello.core.member.MemoryMemberRepository@78dd667e
discountPolicy = hello.core.discount.RateDiscountPolicy@10db82ae
```
ì‹¤ì œë¡œ ëŒë ¤ë³´ë©´, ë‘ ì˜ì¡´ ê´€ê³„ ì£¼ì… ë°©ë²• ëª¨ë‘ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.     
ì‚¬ì‹¤, ì•ì„œ ë§í–ˆë“¯ì´ ë‘ ì˜ì¡´ ê´€ê³„ ì£¼ì… ë°©ë²•ì˜ ì‹œì ì´ ë‹¬ë¼ì„œ ê°€ëŠ¥í–ˆë˜ ê²ƒì´ë‹¤.   
      
## í•„ë“œ ì£¼ì…      
ì´ë¦„ ê·¸ëŒ€ë¡œ í•„ë“œì— ë°”ë¡œ ì£¼ì…í•˜ëŠ” ë°©ë²•ì´ë‹¤.    
í•œ ê°€ì§€ íŠ¹ì´ì ì´ ìˆëŠ”ë°, ì ‘ê·¼ ì§€ì •ìê°€ `private`ì—¬ë„ ì˜ì¡´ ê´€ê³„ë¥¼ ì£¼ì…í•  ìˆ˜ ìˆë‹¤.     
ì´ëŠ” ìë°”ì˜ `Reflection`ì´ë¼ëŠ” ê¸°ëŠ¥ì„ ì´ìš©í•´ì„œ ë¹ˆì„ ì£¼ì…í•˜ê¸° ë•Œë¬¸ì´ë‹¤.    
  
**íŠ¹ì§•**
* ì½”ë“œê°€ ê°„ê²°í•˜ì§€ë§Œ, ì™¸ë¶€ì—ì„œ ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•´ì„œ í…ŒìŠ¤íŠ¸ í•˜ê¸° í˜ë“¤ë‹¤ëŠ” ì¹˜ëª…ì ì¸ ë‹¨ì ì´ ìˆë‹¤.
* DI í”„ë ˆì„ì›Œí¬ê°€ ì—†ìœ¼ë©´ ì•„ë¬´ê²ƒë„ í•  ìˆ˜ ì—†ë‹¤.
       
ê²°ë¡ ë¶€í„° ë§í•˜ìë©´, ì‚¬ìš©í•˜ì§€ ë§ì!   
ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹¤ì œ ì½”ë“œì™€ ê´€ê³„ ì—†ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œ,    
ìŠ¤í”„ë§ ì„¤ì •ì„ ëª©ì ìœ¼ë¡œ í•˜ëŠ” `@Configuration` ê°™ì€ ê³³ì—ì„œë§Œ íŠ¹ë³„í•œ ìš©ë„ë¡œ ì‚¬ìš©í•˜ì    


